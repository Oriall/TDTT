<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz - H·ªá Th·ªëng ƒêa M√¥n H·ªçc</title>
    <link rel="shortcut icon" href="./img/Neko_Gojo_sensei-removebg-preview.png" type="image/x-icon">
    <link rel="stylesheet" href="./styles.css">
    <script src="./script.js" defer></script>
</head>

<body>
    <div class="container">
        <div class="header">
            <h1>üéì H·ªá Th·ªëng Quiz ƒêa M√¥n H·ªçc</h1>
            <p>Ch·ªçn m√¥n h·ªçc v√† ki·ªÉm tra ki·∫øn th·ª©c c·ªßa b·∫°n</p>
        </div>

        <!-- Subject Selection Screen -->
        <div class="subject-selection-screen" id="subjectSelectionScreen">
            <h2>Ch·ªçn m√¥n h·ªçc c·ªßa b·∫°n</h2>
            <p>Vui l√≤ng ch·ªçn m·ªôt m√¥n h·ªçc ƒë·ªÉ b·∫Øt ƒë·∫ßu</p>

            <div class="subject-cards" id="subjectCards">
                <!-- Subject cards will be generated dynamically -->
            </div>

            <button class="btn btn-primary" onclick="confirmSubject()" id="confirmSubjectBtn" style="display: none;">
                Ti·∫øp Theo ‚Üí
            </button>
        </div>

        <!-- Mode Selection Screen -->
        <div class="mode-selection-screen hidden" id="modeSelectionScreen">
            <div class="selected-subject-info">
                <h3 id="modeSelectedSubjectName">üìö M√¥n h·ªçc ƒë√£ ch·ªçn</h3>
                <p id="modeSelectedSubjectDetails" style="margin: 0; color: #94a3b8;"></p>
            </div>

            <h2>Ch·ªçn ch·∫ø ƒë·ªô h·ªçc t·∫≠p</h2>
            <p>B·∫°n mu·ªën √¥n t·∫≠p hay l√†m b√†i ki·ªÉm tra?</p>

            <div class="mode-cards">
                <div class="mode-card review-mode" onclick="startReviewMode()">
                    <div class="mode-icon">üìñ</div>
                    <div class="mode-name">Ch·∫ø ƒê·ªô √în T·∫≠p</div>
                    <div class="mode-description">Xem tr∆∞·ªõc t·∫•t c·∫£ c√¢u h·ªèi v√† ƒë√°p √°n</div>
                    <ul class="mode-features">
                        <li>‚úì Xem to√†n b·ªô c√¢u h·ªèi</li>
                        <li>‚úì T√¨m ki·∫øm c√¢u h·ªèi</li>
                        <li>‚úì Hi·ªÉn th·ªã ƒë√°p √°n v√† gi·∫£i th√≠ch</li>
                        <li>‚úì Kh√¥ng gi·ªõi h·∫°n th·ªùi gian</li>
                    </ul>
                </div>

                <div class="mode-card quiz-mode" onclick="startQuizMode()">
                    <div class="mode-icon">üìù</div>
                    <div class="mode-name">Ch·∫ø ƒê·ªô Ki·ªÉm Tra</div>
                    <div class="mode-description">L√†m b√†i ki·ªÉm tra ƒë·∫ßy ƒë·ªß</div>
                    <ul class="mode-features">
                        <li>‚úì T√πy ch·ªânh s·ªë c√¢u h·ªèi</li>
                        <li>‚úì Gi·ªõi h·∫°n th·ªùi gian</li>
                        <li>‚úì Ch·∫•m ƒëi·ªÉm t·ª± ƒë·ªông</li>
                        <li>‚úì Xem l·∫°i chi ti·∫øt sau khi n·ªôp</li>
                    </ul>
                </div>
            </div>

            <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap; margin-top: 30px;">
                <button class="btn btn-secondary" onclick="backToSubjectSelection()">‚Üê Ch·ªçn L·∫°i M√¥n</button>
            </div>
        </div>

        <!-- Review Mode Screen -->
        <div class="review-screen hidden" id="reviewScreen">
            <div class="review-header-section">
                <h2>üìñ Ch·∫ø ƒê·ªô √în T·∫≠p</h2>
                <p id="reviewSubjectInfo"></p>
            </div>

            <div class="search-container">
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="üîç T√¨m ki·∫øm c√¢u h·ªèi..." 
                           oninput="filterReviewQuestions()">
                    <button class="btn btn-secondary" onclick="clearSearch()">X√≥a</button>
                </div>
                <div class="search-info" id="searchInfo">
                    Hi·ªÉn th·ªã <span id="filteredCount">0</span> / <span id="totalCount">0</span> c√¢u h·ªèi
                </div>
            </div>

            <div class="review-questions-container" id="reviewQuestionsContainer">
                <!-- Review questions will be generated dynamically -->
            </div>

            <div class="review-actions">
                <button class="btn btn-secondary" onclick="backToModeSelection()">‚Üê Quay L·∫°i</button>
                <button class="btn btn-primary" onclick="startQuizMode()">Chuy·ªÉn Sang Ki·ªÉm Tra üìù</button>
            </div>
        </div>

        <!-- Quiz Settings Screen -->
        <div class="start-screen hidden" id="startScreen">
            <div class="selected-subject-info">
                <h3 id="selectedSubjectName">üìö M√¥n h·ªçc ƒë√£ ch·ªçn</h3>
                <p id="selectedSubjectDetails" style="margin: 0; color: #94a3b8;"></p>
            </div>

            <h2>C√†i ƒë·∫∑t b√†i ki·ªÉm tra</h2>
            <p>T√πy ch·ªânh s·ªë c√¢u h·ªèi v√† th·ªùi gian l√†m b√†i theo nhu c·∫ßu c·ªßa b·∫°n</p>

            <div class="settings">
                <label for="numQuestions">S·ªë c√¢u h·ªèi:</label>
                <input type="number" id="numQuestions" value="20" min="5" max="50">

                <label for="timeLimit">Th·ªùi gian (ph√∫t):</label>
                <input type="number" id="timeLimit" value="20" min="5" max="60">
            </div>

            <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                <button class="btn btn-secondary" onclick="backToModeSelection()">‚Üê Quay L·∫°i</button>
                <button class="btn btn-primary" onclick="startQuiz()">B·∫Øt ƒê·∫ßu Quiz</button>
            </div>
        </div>

        <!-- Quiz Screen -->
        <div class="quiz-screen hidden" id="quizScreen">
            <div class="quiz-header">
                <div class="progress-info">
                    <div class="question-counter">
                        C√¢u <span id="currentQuestion">1</span>/<span id="totalQuestions">20</span>
                    </div>
                    <div class="timer" id="timer">
                        ‚è±Ô∏è <span id="timeRemaining">20:00</span>
                    </div>
                </div>
            </div>

            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>

            <div class="question-card">
                <div class="question-text" id="questionText"></div>
                <div class="options" id="optionsContainer"></div>
            </div>

            <div class="quiz-controls">
                <button class="btn btn-secondary" onclick="previousQuestion()" id="prevBtn">‚Üê C√¢u Tr∆∞·ªõc</button>
                <button class="btn btn-primary" onclick="nextQuestion()" id="nextBtn">C√¢u Ti·∫øp ‚Üí</button>
                <button class="btn btn-primary hidden" onclick="finishQuiz()" id="finishBtn">N·ªôp B√†i</button>
            </div>
        </div>

        <!-- Result Screen -->
        <div class="result-screen hidden" id="resultScreen">
            <div class="result-card">
                <div class="result-score" id="scoreDisplay"></div>
                <div class="result-message" id="resultMessage"></div>

                <div class="result-stats">
                    <div class="stat-item correct-stat">
                        <div class="stat-value" id="correctCount">0</div>
                        <div class="stat-label">ƒê√∫ng</div>
                    </div>
                    <div class="stat-item incorrect-stat">
                        <div class="stat-value" id="incorrectCount">0</div>
                        <div class="stat-label">Sai</div>
                    </div>
                    <div class="stat-item time-stat">
                        <div class="stat-value" id="timeTaken">0:00</div>
                        <div class="stat-label">Th·ªùi gian</div>
                    </div>
                </div>

                <div class="result-actions">
                    <button class="btn btn-secondary" onclick="backToSubjectSelection()">Ch·ªçn M√¥n Kh√°c</button>
                    <button class="btn btn-primary" onclick="restartQuiz()">L√†m L·∫°i</button>
                </div>
            </div>

            <!-- Review Section -->
            <div class="review-section">
                <h3 class="review-title">üìù Xem L·∫°i Chi Ti·∫øt ƒê√°p √Ån</h3>
                <div id="reviewContainer"></div>
            </div>
        </div>
    </div>

</body>

</html>